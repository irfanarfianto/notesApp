(()=>{var n={16:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var o=t(601),a=t.n(o),r=t(314),i=t.n(r)()(a());i.push([n.id,'/* Global styles */\nbody {\n  font-family:\n    system-ui,\n    -apple-system,\n    BlinkMacSystemFont,\n    "Segoe UI",\n    Roboto,\n    Oxygen,\n    Ubuntu,\n    Cantarell,\n    "Open Sans",\n    "Helvetica Neue",\n    sans-serif;\n  margin: 0;\n  background-color: #f5f5f5;\n}\n\n/* Header */\nheader {\n  text-align: center;\n  padding: 20px 0;\n  margin-bottom: 20px;\n}\n\nheader h1 {\n  margin: 0;\n  font-size: 30px;\n}\n\n.btn-arsip {\n  height: 120px;\n  border: 1px solid #ccc;\n  padding: 20px;\n  transition:\n    box-shadow 0.3s ease,\n    transform 0.3s ease;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  cursor: pointer;\n}\n\n.btn-arsip p,\n.btn-arsip i {\n  margin-left: 8px;\n  color: #ccc;\n}\n\n.btn-arsip:hover p,\n.btn-arsip:hover i {\n  color: blueviolet;\n}\n\n.btn-arsip:hover {\n  border: 1px solid blueviolet;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transform: scale(1);\n}\n\n.add-note {\n  position: fixed;\n  z-index: 1000;\n  bottom: 20px;\n  right: 20px;\n}\n\n/* button modal */\n#open-modal-btn {\n  background-color: blueviolet;\n  color: #fff;\n  cursor: pointer;\n  border: none;\n  text-align: center;\n  border-radius: 50%;\n  height: 50px;\n  width: 50px;\n  font-size: large;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: background-color 0.3s ease;\n}\n\n#open-modal-btn:hover {\n  background-color: purple;\n}\n\n\n/* CSS Grid layout */\n.notes-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 20px;\n  padding: 20px;\n}\n\n.note {\n  height: 120px;\n  border: 1px solid #ccc;\n  padding: 20px;\n  transition:\n    box-shadow 0.3s ease,\n    transform 0.3s ease;\n  border-radius: 5px;\n}\n\n.note:hover {\n  border: 1px solid blueviolet;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transform: scale(1);\n}\n\n.note h3 {\n  margin-top: 0;\n  margin-bottom: 5px;\n  color: #333;\n}\n\n.note .note-date {\n  margin-top: 0;\n  font-size: 12px;\n  color: #999;\n}\n\n.note-header h3 {\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.note-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.note-body {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n}\n\n.center-message {\n  position: absolute;\n  color: #999;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n}\n\n.dropdown {\n  position: relative;\n  display: inline-block;\n}\n\n.dropdown-btn {\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n}\n\n.dropdown-content {\n  display: none;\n  position: absolute;\n  right: 100%;\n  top: 20%;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n  z-index: 1;\n  border-radius: 5px;\n}\n\n.dropdown-content a {\n  color: black;\n  padding: 12px 16px;\n  text-decoration: none;\n  display: block;\n  cursor: pointer;\n}\n\n.dropdown-content a:hover {\n  background-color: #f1f1f1;\n}\n\n.dropdown-content .delete-btn:hover {\n  color: red;\n}\n\n.dropdown:hover .dropdown-content {\n  display: block;\n}\n\n\n.grid-arsip {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 20px;\n  max-height: 80%;\n  overflow-y: auto;\n}\n\n.modal-arsip {\n  display: none;\n  position: fixed;\n  width: 50%;\n  background-color: #fff;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 10px;\n  z-index: 1000;\n  max-height: 80%;\n  overflow-y: auto;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.modal-arsip p {\n  color: #999;\n}\n\n\n/* Form styling */\n.modal {\n  display: none;\n  position: fixed;\n  top: 20%;\n  left: 35%;\n  background-color: #fff;\n  transform: translate(-50%, -50%);\n  border-radius: 10px;\n  z-index: 1000;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.animate__animated.animate__fadeInBottomRight {\n  --animate-duration: 0.5s;\n}\n\n.modal-content {\n  padding: 20px;\n  border-radius: 10px;\n}\n\nform input,\nform textarea {\n  width: calc(100% - 20px);\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-size: medium;\n  margin-bottom: 10px;\n  margin-right: 10px;\n\n}\n\nform textarea {\n  font: 1em sans-serif;\n  height: 100px;\n  resize: calc((100% - 20px));\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  color: #999;\n}\n\n.modal-close {\n  cursor: pointer;\n  float: right;\n  font-size: 12px;\n  font-weight: normal;\n  color: #888;\n  animation: animate__zoomOut;\n  animation-duration: 2ms;\n}\n\n.modal-header {\n  display: flex;\n  height: 35px;\n  position: sticky;\n  background-color: white;\n  top: 0;\n  z-index: 1;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.modal-header h4 {\n  margin: 0;\n  font-weight: normal;\n}\n\n.modal-close:hover,\n.modal-close:focus {\n  color: #000;\n}\n\n\n.modal-content .btn {\n  margin-top: 10px;\n  background-color: blueviolet;\n  color: #fff;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n}\n\nfooter {\n  width: 100%;\n  background-color: white;\n  position: fixed;\n  padding: 0 20px;\n  bottom: 0;\n}\n\n/* Toast */\n.toast {\n  position: fixed;\n  top: -100px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #333;\n  color: #fff;\n  padding: 15px 20px;\n  border-radius: 5px;\n  display: none;\n  animation: slideInDown 0.5s ease forwards;\n}\n\n.loading-container {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 9999;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.spinner {\n  width: 50px;\n  height: 50px;\n  border: 5px solid #f3f3f3;\n  border-top: 5px solid blueviolet;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes slideInDown {\n  0% {\n    top: -100px;\n  }\n\n  100% {\n    top: 20px;\n  }\n}\n\n.toast.hide {\n  animation: slideOutUp 0.5s ease forwards;\n}\n\n@keyframes slideOutUp {\n  0% {\n    top: 20px;\n  }\n\n  100% {\n    top: -100px;\n  }\n}\n\n/* Responsiveness */\n@media screen and (max-width: 768px) {\n\n  .grid-arsip {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    gap: 20px;\n    max-height: 80%;\n    overflow-y: auto;\n  }\n\n  .modal-arsip {\n    display: none;\n    position: fixed;\n    width: 80%;\n    background-color: #fff;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 10px;\n    z-index: 1000;\n    max-height: 80%;\n    overflow-y: auto;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  }\n\n  .modal {\n    width: 90%;\n    top: 20%;\n    left: 5%;\n  }\n\n  .modal-content {\n    padding: 10px;\n  }\n\n  form input,\n  form textarea {\n    width: calc(100% - 20px);\n  }\n\n  .notes-container {\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  }\n\n  .toast {\n    width: calc(80% - 20px);\n    font-size: small;\n  }\n\n  footer {\n    font-size: small;\n  }\n}',""]);const s=i},314:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,a,r){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<n.length;c++){var l=[].concat(n[c]);o&&i[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},601:n=>{"use strict";n.exports=function(n){return n[1]}},72:n=>{"use strict";var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var r={},i=[],s=0;s<n.length;s++){var d=n[s],c=o.base?d[0]+o.base:d[0],l=r[c]||0,p="".concat(c," ").concat(l);r[c]=l+1;var m=t(p),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)e[m].references++,e[m].updater(u);else{var h=a(u,o);o.byIndex=s,e.splice(s,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var r=o(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<r.length;i++){var s=t(r[i]);e[s].references--}for(var d=o(n,a),c=0;c<r.length;c++){var l=t(r[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=d}}},659:n=>{"use strict";var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:n=>{"use strict";n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{"use strict";n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{"use strict";n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,a&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{"use strict";n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},577:()=>{class n extends HTMLElement{connectedCallback(){this.innerHTML='\n      <a class="btn-arsip" id="open-arsip-modal-btn">\n        <i class="ri-archive-stack-line"></i>\n        <p>Arsip</p>\n        <p id="arsip-count" style="display: none;"></p>\n      </a>\n    ',this.querySelector(".btn-arsip").addEventListener("click",(()=>{document.getElementById("modal-arsip").style.display="block"})),this.fetchArchivedNotesCount()}async fetchArchivedNotesCount(){try{const n=await fetch("https://notes-api.dicoding.dev/v2/notes/archived");if(!n.ok)throw new Error("Failed to fetch archived notes");const e=await n.json(),t=this.querySelector("#arsip-count");e.data.length>0&&(t.textContent=e.data.length,t.style.display="inline")}catch(n){console.error("Error fetching archived notes count:",n.message)}}}customElements.define("button-arsip",n)},657:()=>{class n extends HTMLElement{connectedCallback(){this.innerHTML='\n      <button class="add-note" id="open-modal-btn">\n        <i class="ri-sticky-note-add-line"></i>\n      </button>\n    ',this.querySelector(".add-note").addEventListener("click",(()=>{document.getElementById("modal-add").style.display="block"}))}}customElements.define("button-add",n)},146:()=>{class n extends HTMLElement{connectedCallback(){this.innerHTML="\n         <footer>\n            <p>&copy; 2024 - Dicoding Academy by Irfan Arfianto</p>\n         </footer>\n      "}}customElements.define("app-footer",n)},561:()=>{class n extends HTMLElement{connectedCallback(){this.innerHTML='\n         <div class="loading-container">\n            <div class="spinner"></div>\n         </div>\n      '}}customElements.define("loading-indicator",n)},80:()=>{class n extends HTMLElement{connectedCallback(){this.innerHTML='\n      <div id="modal-arsip" class="modal-arsip">\n        <div class="modal-overlay"></div>\n        <div class="modal-content">\n          <div class="modal-header">\n            <h4>Arsip Catatan</h4>\n            <span class="modal-close">Tutup</span>\n          </div>\n          \x3c!-- Tambahkan konten modal arsip di sini --\x3e\n          <div id="arsip-content" class="grid-arsip"></div>\n        </div>\n      </div>\n    ',this.querySelector(".modal-close").addEventListener("click",(()=>{this.closeModal()})),this.fetchArchivedNotes()}async fetchArchivedNotes(){try{const n=await fetch("https://notes-api.dicoding.dev/v2/notes/archived");if(!n.ok)throw new Error("Failed to fetch archived notes");const e=await n.json();this.displayArchivedNotes(e.data)}catch(n){console.error("Error fetching archived notes:",n.message)}}displayArchivedNotes(n){const e=this.querySelector("#arsip-content");if(e.innerHTML="",0===n.length){const n=document.createElement("p");n.textContent="Tidak ada note yang diarsipkan",e.appendChild(n)}else n.forEach((n=>{const t=document.createElement("note-card");t.setAttribute("data-note",JSON.stringify(n)),e.appendChild(t)}))}closeModal(){this.style.display="none",this.querySelector(".modal-overlay").style.display="none"}}customElements.define("modal-arsip",n)},405:()=>{class n extends HTMLElement{connectedCallback(){this.innerHTML='\n         \n         <div id="modal-add" class="modal animate__animated animate__fadeInBottomRight">\n            <div class="modal-content">\n               <div class="modal-header">\n                  <h4>Membuat Catatan Baru</h4>\n                  <span class="modal-close">Tutup</span>\n               </div>\n               <form id="note-form" method="post">\n                  <input type="text" id="note-title" placeholder="Judul" required>\n                  <textarea id="note-body" placeholder="Catatan Anda..." required></textarea>\n                  <button type="submit" class="btn">Buat</button>\n               </form>\n            </div>\n         </div>\n      '}}customElements.define("modal-add",n)}},e={};function t(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var o={};(()=>{"use strict";t.d(o,{P:()=>g}),t(146),t(405),t(80),t(657),t(577);class n extends HTMLElement{connectedCallback(){const n=JSON.parse(this.getAttribute("data-note")),e=null!==this.closest("modal-arsip"),t=new Date(n.createdAt),o=`${t.getDate()} ${["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()]} ${t.getFullYear()}`,a=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;if(this.innerHTML=`\n      <div class="note">\n        <div class="note-header">\n          <h3>${n.title}</h3>\n          <div class="dropdown">\n            <button class="dropdown-btn"><i class="ri-more-2-fill"></i></button>\n            <div class="dropdown-content">\n              ${e?'<a class="cancel-archive-btn"><i class="ri-close-circle-line"></i> Batal Arsipkan</a>':'<a class="archive-btn"><i class="ri-archive-stack-line"></i> Arsipkan</a>'}\n              <a class="delete-btn"><i class="ri-delete-bin-5-line"></i> Hapus</a>\n            </div>\n          </div>\n        </div>\n        <p class="note-date">${o} • ${a}</p>\n        <p class="note-body">${n.body}</p>\n      </div>\n    `,this.querySelector(".delete-btn").addEventListener("click",(()=>{this.confirmDeleteNote()})),e){const e=this.querySelector(".cancel-archive-btn");e&&e.addEventListener("click",(()=>{this.cancelArchiveNoteHandler(n.id)}))}else{const e=this.querySelector(".archive-btn");e&&e.addEventListener("click",(()=>{this.archiveNote(n.id)}))}}async confirmDeleteNote(){if(confirm("Apakah Anda yakin ingin menghapus catatan ini?")){const n=JSON.parse(this.getAttribute("data-note")).id;this.deleteNote(n)}}async deleteNote(n){try{if(!(await fetch(`https://notes-api.dicoding.dev/v2/notes/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete note");this.remove(),g("✅ Catatan berhasil dihapus")}catch(n){g("❌ Gagal menghapus catatan"),console.error("Error deleting note:",n.message)}}cancelArchiveNoteHandler(n){this.unarchiveNote(n)}async unarchiveNote(n){try{if(!(await fetch(`https://notes-api.dicoding.dev/v2/notes/${n}/unarchive`,{method:"POST"})).ok)throw new Error("Failed to unarchive note");g("✅ Catatan berhasil dibatalkan arsip"),this.remove()}catch(n){g("❌ Gagal membatalkan arsip catatan"),console.error("Error canceling archive:",n.message)}}async archiveNote(n){try{if(!(await fetch(`https://notes-api.dicoding.dev/v2/notes/${n}/archive`,{method:"POST"})).ok)throw new Error("Failed to archive note");this.remove(),g("✅ Catatan berhasil diarsipkan")}catch(n){g("❌ Gagal mengarsipkan catatan"),console.error("Error archiving note:",n.message)}}}customElements.define("note-card",n),t(561);var e=t(72),a=t.n(e),r=t(825),i=t.n(r),s=t(659),d=t.n(s),c=t(56),l=t.n(c),p=t(540),m=t.n(p),u=t(113),h=t.n(u),f=t(16),b={};async function v(){const n=document.createElement("loading-indicator");document.body.appendChild(n);try{!function(n){const e=document.getElementById("notes-container");e.innerHTML="",n.sort(((n,e)=>new Date(e.createdAt)-new Date(n.createdAt))),n.forEach(((n,t)=>{const o=document.createElement("note-card");o.setAttribute("data-note",JSON.stringify(n)),o.setAttribute("data-aos","fade-up"),o.setAttribute("data-aos-delay",""+100*t),e.appendChild(o)}));const t=document.querySelector("button-arsip");if(t)t.style.display="block";else{const n=document.createElement("button-arsip");e.insertBefore(n,e.firstChild)}}(await async function(){try{const n=await fetch("https://notes-api.dicoding.dev/v2/notes");if(!n.ok)throw new Error("Failed to fetch notes");return(await n.json()).data}catch(n){return console.error("Error fetching notes:",n.message),[]}}())}catch(n){g("❌ Gagal mengambil catatan")}finally{n.remove()}}function g(n){const e=document.getElementById("toast");e.textContent=n,e.style.display="block",setTimeout((()=>{e.classList.add("hide"),setTimeout((()=>{e.style.display="none",e.classList.remove("hide")}),500)}),3e3)}b.styleTagTransform=h(),b.setAttributes=l(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m(),a()(f.A,b),f.A&&f.A.locals&&f.A.locals,document.addEventListener("DOMContentLoaded",(()=>{const n=document.getElementById("open-modal-btn"),e=document.querySelector("#modal-add .modal-close"),t=document.getElementById("modal-add"),o=document.getElementById("open-arsip-modal-btn"),a=document.querySelector("#modal-arsip .modal-close"),r=document.getElementById("modal-arsip");o.addEventListener("click",(()=>{r.style.display="block"})),a.addEventListener("click",(()=>{r.style.display="none"})),n.addEventListener("click",(()=>{t.style.display="block"})),e.addEventListener("click",(()=>{t.style.display="none"})),document.getElementById("note-form").addEventListener("submit",(async function(n){n.preventDefault();const e={title:document.getElementById("note-title").value,body:document.getElementById("note-body").value};try{await async function(n){try{const e=await fetch("https://notes-api.dicoding.dev/v2/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error("Failed to add note");return(await e.json()).data}catch(n){throw console.error("Error adding note:",n.message),n}}(e),v(),document.getElementById("note-title").value="",document.getElementById("note-body").value="",t.style.display="none",g("✅ Catatan berhasil ditambahkan")}catch(n){g("❌ Gagal menambahkan catatan")}})),v()}))})()})();